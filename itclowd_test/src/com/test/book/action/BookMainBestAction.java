package com.test.book.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.google.gson.Gson;
import com.google.gson.JsonObject;
import com.test.util.ActionForward;
import com.test.util.inter.Action;
import com.test.vo.BookVO;

public class BookMainBestAction implements Action {

	@Override
	public ActionForward execute(HttpServletRequest req, HttpServletResponse res) throws Exception {
		ActionForward forward = null;
//		String json = "http://www.aladin.co.kr/ttb/api/ItemSearch.aspx?ttbkey=ttbgsgod0906001&Query=aladdin&QueryType=Title&MaxResults=10&start=1&SearchTarget=Book&output=js&cover=midbig";
		String json = "{ \"version\" : \"20070901\", \"title\" : \"알라딘 검색결과 - aladdin\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/search\\/wsearchresult.aspx?KeyTitle=aladdin&amp;SearchTarget=book\", \"pubDate\" : \"Tue, 06 Feb 2018 13:45:35 GMT\", \"imageUrl\" : \"http:\\/\\/www.aladin.co.kr\\/ucl_editor\\/img_secur\\/header\\/2010\\/logo.jpg\", \"totalResults\" : 225, \"startIndex\" : 1, \"itemsPerPage\" : 10, \"query\" : \"aladdin\", \"searchCategoryId\" : 0, \"searchCategoryName\" : \"전체\", \"item\" : [  { \"title\" : \"타샤의 식탁 (리커버 특별판, 알라딘 단독)\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=123704628&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"타샤 튜더 지음, 공경희 옮김\", \"pubDate\" : \"2017-11-29\", \"description\" : \"시간을 담은 따뜻한 요리 &lt;타샤의 식탁&gt; 알라딘 한정판이다. 동화작가이자 자급자족하는 시골생활로 유명한 타샤 튜더의 요리책으로, 코기와 염소와 닭과 오리가 노니는 마당에서 얻은 신선한 음식 재료를 이용해 만들어내는 타샤만의 레시피가 수록되어 있다.\", \"creator\" : \"aladin\", \"isbn\" : \"8991141331\", \"isbn13\" : \"9788991141339\", \"itemId\" : 123704628, \"priceSales\" : 14220, \"priceStandard\" : 15800, \"stockStatus\" : \"\", \"mileage\" : 790, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/12370\\/46\\/cover150\\/8991141331_1.jpg\", \"categoryId\" : 51376, \"categoryName\" : \"국내도서>에세이>사진/그림 에세이\", \"publisher\":\"윌북\", \"customerReviewRank\":9  } , { \"title\" : \"카타리나 블룸의 잃어버린 명예 (리커버 특별판, 양장)\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=118890442&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"하인리히 뵐 지음, 김연수 옮김\", \"pubDate\" : \"2017-09-28\", \"description\" : \"노벨 문학상 수상 작가 하인리히 뵐의 대표작 &lt;카타리나 블룸의 잃어버린 명예&gt;의 알라딘 특별판이다. 황색 언론에 의해 처참하게 유린당한 한 개인의 명예에 관한 보고서이자 독특한 형식과 논리적인 전개로 전후 독일의 정신적 폐허를 냉철하게 응시한 문제작이다.\", \"creator\" : \"aladin\", \"isbn\" : \"8937434725\", \"isbn13\" : \"9788937434723\", \"itemId\" : 118890442, \"priceSales\" : 7650, \"priceStandard\" : 8500, \"stockStatus\" : \"품절\", \"mileage\" : 420, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/11889\\/4\\/cover150\\/8937434725_2.jpg\", \"categoryId\" : 50922, \"categoryName\" : \"국내도서>소설/시/희곡>독일소설\", \"publisher\":\"민음사\", \"customerReviewRank\":10  } , { \"title\" : \"[월드베스트]꼬마손 팝업북 3권세트 택1 - 3권세트5 효녀심청,알라딘,피노키오\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=120115806&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"\", \"pubDate\" : \"2017-08-13\", \"description\" : \"\", \"creator\" : \"aladin\", \"isbn\" : \"K602531846\", \"isbn13\" : \"\", \"itemId\" : 120115806, \"priceSales\" : 12000, \"priceStandard\" : 18000, \"stockStatus\" : \"\", \"mileage\" : 120, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/12011\\/58\\/cover150\\/scm96545655964.jpg\", \"categoryId\" : 0, \"categoryName\" : \"\", \"publisher\":\"월드베스트\", \"customerReviewRank\":0  } , { \"title\" : \"[월드베스트]꼬마손 팝업북 3권세트 택1 - 3권세트2 빨간모자,알라딘,피노키오\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=120115802&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"\", \"pubDate\" : \"2017-08-13\", \"description\" : \"\", \"creator\" : \"aladin\", \"isbn\" : \"K672531846\", \"isbn13\" : \"\", \"itemId\" : 120115802, \"priceSales\" : 12000, \"priceStandard\" : 18000, \"stockStatus\" : \"\", \"mileage\" : 120, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/12011\\/58\\/cover150\\/scm96545655964.jpg\", \"categoryId\" : 0, \"categoryName\" : \"\", \"publisher\":\"월드베스트\", \"customerReviewRank\":0  } , { \"title\" : \"신과 함께 박스 세트 특별판 - 전8권 - 저승편.이승편.신화편\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=107486034&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"주호민 지음\", \"pubDate\" : \"2017-04-24\", \"description\" : \"2010년 네이버웹툰에 등장하자마자 엄청난 화제를 일으키며 큰 감동과 재미를 선사했던 주호민의 대표작 『신과 함께』의 알라딘 특별한정판 세트이다. 이번 리커버 에디션은 익숙한 초판의 이미지를 탈피해 각 권에 맞는 캐릭터를 본문에서 발췌, 다양하게 배치했다. 또한 화이트와 블랙 컬러를 사용해 이야기의 주제인 권선징악을 상징하는 동시에 현대적인 느낌을 표현하고 있다.\", \"creator\" : \"aladin\", \"isbn\" : \"8959198803\", \"isbn13\" : \"9788959198801\", \"itemId\" : 107486034, \"priceSales\" : 86400, \"priceStandard\" : 96000, \"stockStatus\" : \"품절\", \"mileage\" : 4800, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/10748\\/60\\/cover150\\/8959198803_1.jpg\", \"categoryId\" : 7443, \"categoryName\" : \"국내도서>만화>인터넷 연재 만화\", \"publisher\":\"애니북스\", \"customerReviewRank\":10  } , { \"title\" : \"알라딘과 요술램프\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=107600180&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"그린키즈 편집부 지음\", \"pubDate\" : \"2017-03-22\", \"description\" : \"아이들이 꼭 알아야할 세계 명작동화를 담았다. 쉬운 어휘와 문장을 사용했다. 명작동화를 읽으며 여러 나라의 다양한 문화를 빠르게 습득할 수 있다. 선명한 그림을 통해 호기심과 집중력이 자라난다. 책 말미의 부록에는 독후 활동을 담았다.\", \"creator\" : \"aladin\", \"isbn\" : \"K182530050\", \"isbn13\" : \"9791159481741\", \"itemId\" : 107600180, \"priceSales\" : 5400, \"priceStandard\" : 6000, \"stockStatus\" : \"\", \"mileage\" : 300, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/10760\\/1\\/cover150\\/k182530050_1.jpg\", \"categoryId\" : 35104, \"categoryName\" : \"국내도서>유아>그림책>세계명작\", \"publisher\":\"그린키즈\", \"customerReviewRank\":0  } , { \"title\" : \"(알라딘북스)미션 탈출 17+30+43 묶음(전3권)(수수께끼 속에 숨은 논리를 찾아라1~\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=112520934&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"\", \"pubDate\" : \"2016-09-18\", \"description\" : \"\", \"creator\" : \"aladin\", \"isbn\" : \"K642531798\", \"isbn13\" : \"\", \"itemId\" : 112520934, \"priceSales\" : 29700, \"priceStandard\" : 33000, \"stockStatus\" : \"\", \"mileage\" : 330, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/11252\\/9\\/cover150\\/scm4840035347372.jpg\", \"categoryId\" : 29056, \"categoryName\" : \"국내도서>전집/중고전집>초등(1-3)저학년>문학/논술/고전\", \"publisher\":\"\", \"customerReviewRank\":0  } , { \"title\" : \"알라딘과 요술 램프\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=89797477&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"페르시아 민화 원작, 정재은 글, 최철민 그림\", \"pubDate\" : \"2016-08-09\", \"description\" : \"전 세계 아이들에게 사랑받는 명작 동화를 소개하는 \\'읽어 줘요! 슈퍼맨\\' 시리즈 10권. 알라딘이 낡은 램프를 문지르자, 펑! 소리와 함께 요술 램프의 거인이 나타났다. \\\"주인님, 무슨 소원을 들어 드릴까요?\\\" 램프의 거인은 알라딘의 소원을 모두 들어주는데….\", \"creator\" : \"aladin\", \"isbn\" : \"K922535694\", \"isbn13\" : \"9791170183082\", \"itemId\" : 89797477, \"priceSales\" : 6300, \"priceStandard\" : 7000, \"stockStatus\" : \"\", \"mileage\" : 350, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/8979\\/74\\/cover150\\/k922535694_1.jpg\", \"categoryId\" : 35104, \"categoryName\" : \"국내도서>유아>그림책>세계명작\", \"publisher\":\"글송이\", \"customerReviewRank\":0  } , { \"title\" : \"Joy To Read 2-4 (Story Book + Workbook + Hybrid CD) - Aladdin\\'s Magic Lamp\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=85822171&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"한스미디어 편집부 엮음\", \"pubDate\" : \"2016-06-09\", \"description\" : \"\", \"creator\" : \"aladin\", \"isbn\" : \"8967050526\", \"isbn13\" : \"9788967050528\", \"itemId\" : 85822171, \"priceSales\" : 8100, \"priceStandard\" : 9000, \"stockStatus\" : \"\", \"mileage\" : 450, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/8582\\/21\\/cover150\\/8967050526_1.jpg\", \"categoryId\" : 55556, \"categoryName\" : \"국내도서>초등학교참고서>초등영어전문교재>독해\", \"publisher\":\"한스미디어\", \"customerReviewRank\":0  } , { \"title\" : \"알라딘과 요술 램프\", \"link\" : \"http:\\/\\/www.aladin.co.kr\\/shop\\/wproduct.aspx?ItemId=94340358&amp;copyPaper=1&amp;ttbkey=ttbgsgod0906001&amp;start=api\", \"author\" : \"아라비안나이트 원작, 마키노 스즈코 그림, 김미선 옮김\", \"pubDate\" : \"2016-05-31\", \"description\" : \"\", \"creator\" : \"aladin\", \"isbn\" : \"8956940223\", \"isbn13\" : \"9788956940229\", \"itemId\" : 94340358, \"priceSales\" : 8100, \"priceStandard\" : 9000, \"stockStatus\" : \"\", \"mileage\" : 270, \"cover\":\"http:\\/\\/image.aladin.co.kr\\/product\\/9434\\/3\\/cover150\\/8956940223_1.jpg\", \"categoryId\" : 35104, \"categoryName\" : \"국내도서>유아>그림책>세계명작\", \"publisher\":\"한국슈바이처\", \"customerReviewRank\":0  } ] };".replaceAll("\\\'", "\\u0027").replaceAll(";", "");
		BookVO bVo = new Gson().fromJson(json, BookVO.class);
		JsonObject jObj = new JsonObject();
		res.setContentType("application/x-json;charset=utf-8");
		if(bVo != null) {
			jObj.addProperty("result", true);
			jObj.addProperty("json", json);
		} else {
			jObj.addProperty("result", false);
		}
		res.getWriter().print(jObj);
		return null;
	}

}
